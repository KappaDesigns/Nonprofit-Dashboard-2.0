<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Module: lib/Site</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Module: lib/Site</h1>

    




<section>

<header>
    
        
            
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">implementation of the how the site is edited via
the front end editor. Also handles publication of the site
commits and changes to the site, and updates the git hub repo
of the actaul site so that developers can see the change made
by those who are not developers. Built using 
<a href="https://www.npmjs.com/package/nodegit">NodeGit</a></div>
        

        
            















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_site.js.html">lib/site.js</a>, <a href="lib_site.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
    
    </div>

    

    
        <h3 class="subsection-title">Requires</h3>

        <ul>
            <li>module:NodeGit</li>
        
            <li><a href="module-util_Logger.html">module:util/Logger</a></li>
        </ul>
    

    

    

    

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id="~Git"><span class="type-signature">(inner, constant) </span>Git<span class="type-signature"></span></h4>




<div class="description">
    NodeGit
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_site.js.html">lib/site.js</a>, <a href="lib_site.js.html#line19">line 19</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="~commit"><span class="type-signature">(async, inner) </span>commit<span class="signature">(repo, oID, parent, user)</span><span class="type-signature"> &rarr; {Number}</span></h4>
    

    



<div class="description">
    commits recent edits and changes to the
local repository
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>repo</code></td>
            

            <td class="type">
            
                
<span class="param-type">Repository:Object</span>


            
            </td>

            

            

            <td class="description last">git repository</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>oID</code></td>
            

            <td class="type">
            
                
<span class="param-type">Oid:Object</span>


            
            </td>

            

            

            <td class="description last">Oid of commit prior</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>parent</code></td>
            

            <td class="type">
            
                
<span class="param-type">Commit:Object</span>


            
            </td>

            

            

            <td class="description last">parent commit</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>user</code></td>
            

            <td class="type">
            
                
<span class="param-type">User:Object</span>


            
            </td>

            

            

            <td class="description last">takes in a user object</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_site.js.html">lib/site.js</a>, <a href="lib_site.js.html#line194">line 194</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>module:lib/User</li>
        </ul>
    </dd>
    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    the new commit id number
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Number</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="~createHeadReference"><span class="type-signature">(async, inner) </span>createHeadReference<span class="signature">(repo)</span><span class="type-signature"> &rarr; {Reference:Object}</span></h4>
    

    



<div class="description">
    creates a reference to the head where the git was most recently fetched
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>repo</code></td>
            

            <td class="type">
            
                
<span class="param-type">Repository:Object</span>


            
            </td>

            

            

            <td class="description last">node git repository object.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_site.js.html">lib/site.js</a>, <a href="lib_site.js.html#line78">line 78</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    returns a nodegit reference that
refers to the FETCH_HEAD
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Reference:Object</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="~localizePath"><span class="type-signature">(inner) </span>localizePath<span class="signature">(filePath)</span><span class="type-signature"> &rarr; {String}</span></h4>
    

    



<div class="description">
    takes the global file path of a file within
the local site stored and resolves the string to pertain to the ./site
dir as the root of the path
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>filePath</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">path to file</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_site.js.html">lib/site.js</a>, <a href="lib_site.js.html#line164">line 164</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    returns localized string to the ./site root
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">String</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="~openRepository"><span class="type-signature">(async, inner) </span>openRepository<span class="signature">(sitePath)</span><span class="type-signature"> &rarr; {Repository:Object}</span></h4>
    

    



<div class="description">
    opens the local repository saved to the machine
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>sitePath</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">path to local site git repo</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_site.js.html">lib/site.js</a>, <a href="lib_site.js.html#line95">line 95</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    returns a nodegit repository 
after opening so that commands can be run on top of it
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Repository:Object</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="~pullRepo"><span class="type-signature">(async, inner) </span>pullRepo<span class="signature">(user)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    emulates a git pull to update the site
with any recent changes made by the development team
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>user</code></td>
            

            <td class="type">
            
                
<span class="param-type">User:Object</span>


            
            </td>

            

            

            <td class="description last">takes in a user object.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_site.js.html">lib/site.js</a>, <a href="lib_site.js.html#line35">line 35</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>module:lib/User</li>
        </ul>
    </dd>
    

    
</dl>


















        
            

    

    
    <h4 class="name" id="~revert"><span class="type-signature">(async, inner) </span>revert<span class="signature">(hash)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    reverts the git branch to the requested commit
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>hash</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">represents the hash of the commit</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_site.js.html">lib/site.js</a>, <a href="lib_site.js.html#line233">line 233</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="~saveFile"><span class="type-signature">(async, inner) </span>saveFile<span class="signature">(data, filePath, user)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Saves the updated file from the web ui to the server git
file and adds and commits file to recent changes
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">the html to write and update</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>filePath</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">the path at which to update the file</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>user</code></td>
            

            <td class="type">
            
                
<span class="param-type">User:Object</span>


            
            </td>

            

            

            <td class="description last">takes in a user object</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_site.js.html">lib/site.js</a>, <a href="lib_site.js.html#line119">line 119</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>module:lib/User</li>
        </ul>
    </dd>
    

    
</dl>


















        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-lib_Site.html">lib/Site</a></li><li><a href="module-util_Logger.html">util/Logger</a></li><li><a href="module-util_MYSQL.html">util/MYSQL</a></li></ul><h3>Classes</h3><ul><li><a href="module-util_Logger.html">util/Logger</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Thu Nov 23 2017 01:12:31 GMT-0800 (PST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>